@model VirtualHair.Models.UserHairstyle
@{
    ViewData["Title"] = "Look Details";
}

<div class="container py-4">
    <div class="mx-auto" style="max-width: 920px;">
        <div class="card shadow-sm border-0">
            <div class="row g-0">
                <div class="col-12 col-md-6">
                    <div class="ratio ratio-4x3 bg-light rounded-start overflow-hidden h-100">
                        <img src="@(Model.ImagePath ?? "/images/no-image.png")"
                             class="w-100 h-100" style="object-fit: cover;" alt="Preview" />
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="card-body p-4">
                        <h3 class="fw-semibold mb-3">@Model.Title</h3>
                        <dl class="row mb-4">
                            <dt class="col-5 text-secondary">Hairstyle</dt>
                            <dd class="col-7">@Model.Hairstyle?.Name</dd>

                            <dt class="col-5 text-secondary">Facial hair</dt>
                            <dd class="col-7">@(Model.FacialHair?.Name ?? "—")</dd>

                            <dt class="col-5 text-secondary">Created</dt>
                            <dd class="col-7">@Model.CreatedAt.ToString("yyyy-MM-dd HH:mm")</dd>
                        </dl>

                        <div class="d-flex gap-2">
                            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary px-4">Edit</a>
                            <a asp-action="Index" class="btn btn-outline-secondary px-4">Back</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Toast -->
<div class="position-fixed top-0 end-0 p-3" style="z-index: 1080">
    <div id="toastMsg" class="toast align-items-center text-bg-success border-0" role="alert">
        <div class="d-flex">
            <div class="toast-body" id="toastBody">Action completed.</div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        (function () {
            const success = '@(TempData["SuccessMessage"] ?? "")';
            const error = '@(TempData["ErrorMessage"] ?? "")';
            if (success || error) {
                const toast = document.getElementById('toastMsg');
                const body = document.getElementById('toastBody');
                if (error) {
                    toast.classList.remove('text-bg-success');
                    toast.classList.add('text-bg-danger');
                    body.textContent = error;
                } else {
                    toast.classList.remove('text-bg-danger');
                    toast.classList.add('text-bg-success');
                    body.textContent = success;
                }
                new bootstrap.Toast(toast, { delay: 3000 }).show();
            }
        })();
    </script>
}
